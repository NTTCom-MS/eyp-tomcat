
#
# GC options
#

<% if @use_concurrent_mark_sweep -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+UseConcMarkSweepGC"
<% end -%>

<% if @disable_explicit_gc -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+DisableExplicitGC"
<% end -%>
<% if defined?(@max_gc_pause_millis) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:MaxGCPauseMillis=500"
<% end -%>

<% if @print_gc -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+PrintGC<% if defined?(@print_gc_file) %> -Xloggc:<%= @print_gc_file %><% end %>"
<% end -%>

<% if @print_gc_details -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+PrintGCDetails"
<% end -%>

<% if @print_gc_datestamps -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+PrintGCDateStamps"
<% end -%>

<% if @print_gc_application_stopped_time -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+PrintGCApplicationStoppedTime"
<% end -%>

<% if defined?(@cms_initiating_occupancy_fraction) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:CMSInitiatingOccupancyFraction=<%= @cms_initiating_occupancy_fraction %>"
<% end -%>
