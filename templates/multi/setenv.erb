#
# puppet managed file
#
<% if defined?(@java_home) -%>
export JAVA_HOME="<%= @java_home %>"
<% end -%>
export CATALINA_PID=/var/run/<%= @instancename %>.pid
export CATALINA_HOME=<%= scope.lookupvar('tomcat::catalina_home') %>
export CATALINA_BASE=<%= @catalina_base %>
<% if defined?(@jvm_error_file) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:ErrorFile=<%= @jvm_error_file %>"
<% end -%>
<% if defined?(@java_library_path) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Djava.library.path=<%= @java_library_path %>"
<% end -%>
<% if defined?(@xmx) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xmx<%= @xmx %>"
<% end -%>
<% if defined?(@xms) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xms<%= @xms %>"
<% end -%>
<% if defined?(@xmns) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xmns<%= @xmns %>"
<% end -%>
<% if defined?(@xmnx) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xmnx<%= @xmnx %>"
<% end -%>
<% if defined?(@permsize) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:PermSize=<%= @permsize %>"
<% end -%>
<% if defined?(@maxpermsize) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:MaxPermSize=<%= @maxpermsize %>"
<% end -%>
<% if defined?(@heapdump_oom_dir) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+HeapDumpOnOutOfMemoryError"
export CATALINA_OPTS="$CATALINA_OPTS -XX:HeapDumpPath=<%= @heapdump_oom_dir %>"
<% end -%>
<% if defined?(@file_encoding) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Dfile.encoding=<%= @file_encoding %>"
<% end -%>
<% if defined?(@sun_jnu_encoding) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Dsun.jnu.encoding=<%= @sun_jnu_encoding %>"
<% end -%>
<% if defined?(@file_encoding_pkg) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Dfile.encoding.pkg=<%= @file_encoding_pkg %>"
<% end -%>
