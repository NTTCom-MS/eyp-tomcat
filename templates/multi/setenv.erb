#
# puppet managed file
#
<% if defined?(@java_home) -%>
export JAVA_HOME="<%= @java_home %>"
<% end -%>
export CATALINA_PID=/var/run/<%= @instancename %>.pid
export CATALINA_HOME=<%= scope.lookupvar('tomcat::catalina_home') %>
export CATALINA_BASE=<%= @catalina_base %>
<% if defined?(@java_library_path) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Djava.library.path=<%= @java_library_path %>"
<% end -%>
<% if defined?(@xmx) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xmx<%= @xmx %>"
<% end -%>
<% if defined?(@xms) -%>
export CATALINA_OPTS="$CATALINA_OPTS -Xms<%= @xms %>"
<% end -%>
<% if defined?(@permsize) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:PermSize=<%= @permsize %>"
<% end -%>
<% if defined?(@maxpermsize) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:MaxPermSize=<%= @maxpermsize %>"
<% end -%>
<% if defined?(@heapdump_oom_dir) -%>
export CATALINA_OPTS="$CATALINA_OPTS -XX:+HeapDumpOnOutOfMemoryError"
export CATALINA_OPTS="$CATALINA_OPTS -XX:HeapDumpPath=<%= @heapdump_oom_dir %>"
<% end -%>
